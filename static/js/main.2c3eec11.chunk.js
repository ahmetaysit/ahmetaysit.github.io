(this.webpackJsonpdeneme=this.webpackJsonpdeneme||[]).push([[0],{510:function(e,t,a){e.exports=a.p+"static/media/istanbul.0e57e683.png"},539:function(e,t,a){e.exports=a(784)},543:function(e,t,a){},700:function(e,t){},702:function(e,t){},735:function(e,t){},736:function(e,t){},784:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),l=a.n(i),o=(a(543),a(42)),c=a(34),s=a(59),u=a(53),m=a(60),d=a(350),p=a.n(d),f=a(11),b=a(836),y=a(830),g=a(831),h=a(832),v=a(833),E=a(525),S=a(510),k=a.n(S),C=a(26),O=a(24),A=function(e){return{type:"LOGIN",payload:e}},j=function(){return{type:"LOGOUT",payload:{}}},x=function(e){return{type:"SET_LOGIN_CONTEXT",payload:e}},D=a(139),T=a(14),I=a.n(T),N=a(259),w=(a(574),a(15)),R=a.n(w),L=a(9),B=a(39),G=a.n(B),z=a(518),M=a(56),P=a.n(M),V=function(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),n=0;n!==e.length;++n)a[n]=255&e.charCodeAt(n);return t},U=function(e,t){return t&&(e+=1462),(Date.parse(e)-new Date(Date.UTC(1899,11,30)))/864e5};function K(e,t,a){var n={SheetNames:[e],Sheets:{}};n.Sheets[e]=function(e){for(var t={},a={s:{c:1e7,r:1e7},e:{c:0,r:0}},n=0;n!==e.length;++n)for(var r=0;r!==e[n].length;++r){a.s.r>n&&(a.s.r=n),a.s.c>r&&(a.s.c=r),a.e.r<n&&(a.e.r=n),a.e.c<r&&(a.e.c=r);var i={v:e[n][r]};if(null!==i.v){var l=P.a.utils.encode_cell({c:r,r:n});"number"===typeof i.v?i.t="n":"boolean"===typeof i.v?i.t="b":i.v instanceof Date?(i.t="n",i.z=P.a.SSF._table[14],i.v=U(i.v)):i.t="s",t[l]=i}}return a.s.c<1e7&&(t["!ref"]=P.a.utils.encode_range(a)),t}(F(t,a));var r=H(),i=_(e),l=P.a.write(n,{bookType:r,bookSST:!0,type:"binary"});Object(z.saveAs)(new Blob([V(l)],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i)}var F=function(e,t){var a=[e.map((function(e){return e.title}))];return t.forEach((function(t){var n=[];e.forEach((function(e){var a=t[e.field];n.push(isNaN(a)?a||"":a)})),a.push(n)})),a},_=function(e){return q(e,H())},H=function(){return"xlsx"},q=function(e,t){return"".concat(e,".").concat(t)};var W=Object(C.b)((function(e){return{isLoading:e.loadingReducer,totalRequest:e.totalRequestReducer}}),(function(e){return{actions:{}}}))((function(e){var t=Object(D.g)(),a=Object(n.useState)([]),i=Object(L.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)({}),s=Object(L.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)({}),p=Object(L.a)(d,2),f=p[0],b=p[1];Object(n.useEffect)((function(){0===Object.entries(f).length&&f.constructor===Object&&R.a.get(lt.baseApiUrl+"customer/GetCustomerGroups").then((function(e){m(e.data);var t={};e.data.map((function(e){return t[e.id]=e.groupName})),b(t)}))}),[f]),Object(n.useEffect)((function(){0===l.length&&R.a.get(lt.baseApiUrl+"customer/GetAllCustomers").then((function(e){o(e.data)}))}),[l]);var y=function(e){t.push({pathname:"/customer",state:{customer:e,customerGroups:u}})};return r.a.createElement("div",null,r.a.createElement(G.a,{title:"M\xfc\u015fteri Listesi",columns:[{title:"Kodu",field:"id"},{title:"Ad Soyad\u0131",field:"customerName"},{title:"Telefon",field:"phoneNumber"},{title:"Email",field:"email"},{title:"Havuz Oran\u0131",field:"poolRate"},{title:"M\xfc\u015fteri Grubu",field:"customerGroupId",lookup:f}],data:l,actions:[{icon:"edit",tooltip:"M\xfc\u015fteri G\xfcncelle",onClick:function(e,t){t.length>0?y(t[0]):y(t)}},{icon:"add",tooltip:"M\xfc\u015fteri Ekle",isFreeAction:!0,onClick:function(e){return y("")}}],options:{actionsColumnIndex:-1,exportButton:!0,exportCsv:function(e,t){K("M\xfc\u015fteri Listesi",e,t)},pageSize:50,pageSizeOptions:[50,100,200]},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya Aktar",exportName:"Excel'e Aktar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}}))})),J=a(818),Y=a(819),X=a(820),$=a(821),Q=a(822),Z=a(823),ee=a(824),te=a(825),ae=a(826),ne=a(827),re=a(828),ie=a(829),le=a(808),oe=a(837),ce=a(814),se=a(86),ue=a(813),me=a(815),de=a(155),pe=a(138),fe=a.n(pe),be=a(35),ye=a(313),ge=a(40),he=a(31);function ve(e){var t=Object(n.useState)([]),a=Object(L.a)(t,2),i=a[0],l=a[1];return r.a.createElement("div",null,r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,md:12,xs:12},r.a.createElement(oe.a,{square:!0,defaultExpanded:!0},r.a.createElement(ce.a,{expandIcon:r.a.createElement(fe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(se.a,null,"Filtreler")),r.a.createElement(ue.a,{style:{display:"flex",flexDirection:"row"}},r.a.createElement(he.b,{initialValues:{startDate:new Date((new Date).getFullYear(),(new Date).getUTCMonth(),1),endDate:new Date((new Date).getFullYear(),(new Date).getUTCMonth()+1,0)},validateOnChange:!1,validate:function(e){return{}},onSubmit:function(e,t){t.setValues(e),R.a.post(lt.baseApiUrl+"report/GetGroupSummaryReport",e).then((function(e){l(e.data),I.a.success("Liste G\xfcncellendi!")}))}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(me.a,null,r.a.createElement(he.a,{name:"startDate",id:"startDate"},(function(e){var t=e.field.value,a=e.form.setFieldValue;return r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"startDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:t,onChange:function(e){a("startDate",e)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",KeyboardButtonProps:{"aria-label":"change date"}}))})),r.a.createElement(he.a,{name:"endDate",id:"endDate"},(function(e){var t=e.field.value,a=e.form.setFieldValue;return r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"endDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:t,onChange:function(e){a("endDate",e)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",KeyboardButtonProps:{"aria-label":"change date"}}))})),r.a.createElement(de.a,{color:"primary",type:"submit"},"G\xf6ster")))}))))),r.a.createElement(le.a,{item:!0,md:12,xs:12},r.a.createElement(G.a,{title:"Grup \xd6zet",columns:[{title:"Grup",field:"groupName"},{title:"D\xf6viz",field:"currencyCode"},{title:"Toplam K\xe2r",field:"totalProfit"},{title:"Toplam Bakiye",field:"totalBalance"},{title:"Havuz K\xe2r\u0131",field:"poolProfit"}],data:i,options:{actionsColumnIndex:-1,exportButton:!0,exportCsv:function(e,t){K("Grup \xd6zet",e,t)},pageSize:20,pageSizeOptions:[20,30,40]},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya Aktar",exportName:"Excel'e Aktar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}}))))}var Ee=a(3),Se=a(317),ke=a(811),Ce=a(834),Oe=a(807),Ae=a(812),je=a(77),xe=a(522),De=a(286);function Te(e,t){if(t.constructor===Function)return Object(je.a)({},e,{},t(e));if(t.constructor===Object){if(Object(De.has)(t,"_path")&&Object(De.has)(t,"_value")){var a=t._path,n=t._value;return Object(xe.a)(e,(function(e){Object(De.set)(e,a,n)}))}return Object(je.a)({},e,{},t)}}function Ie(e,t){var a=e.value,n=e.name,r=e.type,i=n.split(".");if("checkbox"===r){var l="true"===a;return 1===i.length&&t((function(e){return Object(f.a)({},n,!e[n])})),void(i.length>1&&t({_path:i,_value:!l}))}if(1===i.length){var o=Object(L.a)(i,1)[0];t(Object(f.a)({},o,a))}i.length>1&&t({_path:i,_value:a})}var Ne=a(273),we=a(343),Re=a(349),Le=a(426),Be=a(448),Ge=a(504),ze={id:0,customerCode:"",customerName:"",defaultCurrencyId:0,phoneNumber:0,email:"",poolRate:0,isActive:!0,customerGroupId:0,isJustForBalance:!1};function Me(e){var t=r.a.useReducer(Te,{customer:ze}),a=Object(L.a)(t,2),i=a[0],l=a[1],o=Object(n.useState)(!1),c=Object(L.a)(o,2),s=c[0],u=c[1],m=Object(n.useState)([]),d=Object(L.a)(m,2),p=d[0],f=d[1],b=r.a.useCallback((function(e){var t=e.target;Ie({value:t.value,name:t.name,type:t.type},l)}),[]);return Object(n.useEffect)((function(){e.groups.length>0&&f(e.groups)}),[e.groups]),Object(n.useEffect)((function(){e.customer.id>0&&Ie({value:e.customer,name:"customer",type:Object},l)}),[e.customer]),!0===s?r.a.createElement(D.a,{to:"/customerlist"}):r.a.createElement("div",null,r.a.createElement(le.a,{container:!0},r.a.createElement(me.a,null,r.a.createElement(Ne.a,{required:!0,name:"customer.customerName",value:i.customer.customerName,label:"M\xfc\u015fteri Ad\u0131 Soyad\u0131",onChange:b,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{type:"number",name:"customer.phoneNumber",value:i.customer.phoneNumber||"",label:"Telefon Numaras\u0131",onChange:b,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{name:"customer.email",value:i.customer.email,label:"E-Posta",onChange:b,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{type:"number",name:"customer.poolRate",value:i.customer.poolRate,label:"Havuz Oran\u0131",onChange:b,InputLabelProps:{shrink:!0}}),r.a.createElement(we.a,{id:"customerGroupId-label",shrink:!0},"M\xfc\u015fteri Grubu"),r.a.createElement(Re.a,{type:"select",labelId:"customerGroupId-label",name:"customer.customerGroupId",value:i.customer.customerGroupId,onChange:b},r.a.createElement(Le.a,{value:0,key:0},"Hi\xe7biri"),p.map((function(e,t){return r.a.createElement(Le.a,{key:t,value:e.id},e.groupName)}))),r.a.createElement(Be.a,{control:r.a.createElement(Ge.a,{name:"customer.isActive",value:i.customer.isActive,checked:i.customer.isActive,onChange:b,color:"primary"}),label:"Aktif mi?"}),r.a.createElement("div",{style:{flexDirection:"row"}},r.a.createElement(de.a,{onClick:function(){return i.customer,void I.a.confirm("Confirm Message",(function(){R.a.post(lt.baseApiUrl+"customer/SaveCustomer",i.customer).then((function(e){I.a.success("Ok"),u(!0)}))}),(function(){I.a.error("Cancel")}))},color:"primary"},"Kaydet"),r.a.createElement(de.a,{onClick:function(){return u(!0)},color:"secondary"},"\u0130ptal")))))}function Pe(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(G.a,{title:"M\xfc\u015fteri Hesaplar\u0131 Listesi",columns:[{title:"Hesap No",field:"accountNo"},{title:"D\xf6viz Cinsi",field:"currencyName"},{title:"Son Bakiye",field:"calculatedLastAccountBalance"},{title:"Havuza \xc7\u0131kacak Tutar",field:"amountToPool"},{title:"Bakiye",field:"accountBalance"}],options:{pageSize:10,pageSizeOptions:[10,20,30]},data:e.customerAccounts,localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya \xe7\u0131kar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}})))}function Ve(e){var t=Object(D.g)(),a={customerId:e.customer.id,transactionDate:new Date,transactionType:1,amount:0,currencyBuyingRate:1,currencySellingRate:1,fromAccountId:0,toAccountId:0},i=r.a.useReducer(Te,{formState:a}),l=Object(L.a)(i,2),o=l[0],c=l[1],s=Object(n.useState)(new Date),u=Object(L.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(new Date),f=Object(L.a)(p,2),b=f[0],y=f[1];Object(n.useEffect)((function(){R.a.get(lt.baseApiUrl+"transaction/GetMaxTransactionDate").then((function(e){y(new Date(e.data))}))}),[]);var g=r.a.useCallback((function(e){var t=e.target;Ie({value:t.value,name:t.name,type:t.type},c)}),[]),h=function(){!function(){var e=!0;return(0===o.formState.amount||1===o.formState.transactionType&&0===o.formState.toAccountId||2===o.formState.transactionType&&0===o.formState.fromAccountId||3===o.formState.transactionType&&(0===o.formState.fromAccountId||0===o.formState.toAccountId))&&(e=!1),b>o.formState.transactionDate&&(I.a.warning("Se\xe7ilen tarih son i\u015flem tarihinden k\xfc\xe7\xfck olamaz"),e=!1),e}()?I.a.error("Alanlar\u0131 Kontrol Ediniz!"):R.a.post(lt.baseApiUrl+"customer/ExchangeTransfer",o.formState).then((function(e){I.a.success("Ok"),t.push("/customerlist")}))};return r.a.createElement("div",null,r.a.createElement(le.a,{container:!0},r.a.createElement(me.a,null,r.a.createElement(we.a,{id:"transactionType-label",shrink:!0},"\u0130\u015flem Tipi"),r.a.createElement(Re.a,{type:"select",labelId:"transactionType-label",name:"formState.transactionType",value:o.formState.transactionType||0,onChange:function(e){g(e),Ie({value:0,name:"formState.fromAccountId",type:"number"},c),Ie({value:0,name:"formState.toAccountId",type:"number"},c)}},[{id:1,value:"Giri\u015f"},{id:2,value:"\xc7\u0131k\u0131\u015f"},{id:3,value:"Transfer"}].map((function(e,t){return r.a.createElement(Le.a,{key:e.id,value:e.id},e.value)}))),r.a.createElement(Ne.a,{type:"number",name:"formState.amount",value:o.formState.amount,label:"Tutar",onChange:g,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{disabled:3!==o.formState.transactionType,type:"number",name:"formState.currencyBuyingRate",value:o.formState.currencyBuyingRate,label:"D\xf6viz/Alt\u0131n Al\u0131\u015f",onChange:g,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{disabled:3!==o.formState.transactionType,type:"number",name:"formState.currencySellingRate",value:o.formState.currencySellingRate,label:"D\xf6viz/Alt\u0131n Sat\u0131\u015f Parite",onChange:g,InputLabelProps:{shrink:!0}}),r.a.createElement("div",{style:{flexDirection:"row"}},r.a.createElement(we.a,{id:"fromAccountId-label",shrink:!0},"\xc7\u0131k\u0131\u015f Hesab\u0131"),r.a.createElement(Re.a,{disabled:1===o.formState.transactionType,type:"select",labelId:"fromAccountId-label",name:"formState.fromAccountId",value:o.formState.fromAccountId||0,onChange:g,style:{width:270}},r.a.createElement(Le.a,{key:0,value:0},"Hi\xe7biri"),e.customerAccounts.map((function(e,t){return r.a.createElement(Le.a,{key:t,value:e.id},e.accountNo," - ",e.accountBalance)}))),r.a.createElement(de.a,{disabled:0===o.formState.fromAccountId,style:{position:"fixed",right:"-55"},onClick:function(){Ie({value:e.customerAccounts.find((function(e){return e.id===o.formState.fromAccountId})).accountBalance,name:"formState.amount",type:"number"},c)}},"Tamam\u0131")),r.a.createElement(we.a,{id:"toAccountId-label",shrink:!0},"Giri\u015f Hesab\u0131"),r.a.createElement(Re.a,{disabled:2===o.formState.transactionType,type:"select",labelId:"toAccountId-label",name:"formState.toAccountId",value:o.formState.toAccountId||0,onChange:g},r.a.createElement(Le.a,{key:0,value:0},"Hi\xe7biri"),e.customerAccounts.map((function(e,t){return r.a.createElement(Le.a,{key:t,value:e.id},e.accountNo," - ",e.accountBalance)}))),r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"formState.transactionDate",label:"Date picker dialog",format:"dd/MM/yyyy",minDate:b,value:m,onChange:function(e){d(e),Ie({value:e,name:"formState.transactionDate",type:"datePicker"},c)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("div",{style:{flexDirection:"row"}},r.a.createElement(de.a,{onClick:function(){return h()},color:"primary"},"Kaydet"),r.a.createElement(de.a,{onClick:function(){return alert("cancel")},color:"secondary"},"\u0130ptal")))))}var Ue=Object(C.b)((function(e){return{userContext:e.loginReducer,isLoading:e.loadingReducer}}),(function(e){return{actions:{}}}))((function(e){var t={customerId:e.customer.id,transactionDate:new Date,transactionType:1,amount:0,buyingRate:1,sellingRate:1,fromAccountId:0,toAccountId:0,toAccBalanceAfter:0,fromAccBalanceAfter:0,createdBy:e.userContext.id,createdDate:new Date,updatedDate:new Date,status:1},a=r.a.useReducer(Te,{formState:t}),i=Object(L.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)(new Date),s=Object(L.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)([]),p=Object(L.a)(d,2),f=p[0],b=p[1],y=Object(n.useState)(new Date),g=Object(L.a)(y,2),h=g[0],v=g[1];Object(n.useEffect)((function(){R.a.get(lt.baseApiUrl+"transaction/GetMaxTransactionDate").then((function(e){v(new Date(e.data))}))}),[]);var E=function(){R.a.get(lt.baseApiUrl+"transaction/GetTransactionRequests?customerId="+e.customer.id).then((function(e){b(e.data)}))};Object(n.useEffect)((function(){E()}),[]);var S=r.a.useCallback((function(e){var t=e.target;Ie({value:t.value,name:t.name,type:t.type},o)}),[]),k=function(){!function(){var e=!0;return(0===l.formState.amount||1===l.formState.transactionType&&0===l.formState.toAccountId||2===l.formState.transactionType&&0===l.formState.fromAccountId||3===l.formState.transactionType&&(0===l.formState.fromAccountId||0===l.formState.toAccountId))&&(e=!1),h>l.formState.transactionDate&&(I.a.warning("Se\xe7ilen tarih son i\u015flem tarihinden k\xfc\xe7\xfck olamaz"),e=!1),e}()?I.a.error("Alanlar\u0131 Kontrol Ediniz!"):R.a.post(lt.baseApiUrl+"transaction/AddTransactionRequest",l.formState).then((function(e){I.a.success("Ok"),E()}))};return r.a.createElement("div",null,r.a.createElement(le.a,{container:!0},r.a.createElement(le.a,{item:!0,md:3,xs:12},r.a.createElement(me.a,{style:{maxWidth:250}},r.a.createElement(we.a,{id:"transactionType-label",shrink:!0},"\u0130\u015flem Tipi"),r.a.createElement(Re.a,{type:"select",labelId:"transactionType-label",name:"formState.transactionType",value:l.formState.transactionType||0,onChange:function(e){S(e),Ie({value:0,name:"formState.fromAccountId",type:"number"},o),Ie({value:0,name:"formState.toAccountId",type:"number"},o)}},[{id:1,value:"Giri\u015f"},{id:2,value:"\xc7\u0131k\u0131\u015f"},{id:3,value:"Transfer"}].map((function(e,t){return r.a.createElement(Le.a,{key:e.id,value:e.id},e.value)}))),r.a.createElement(Ne.a,{type:"number",name:"formState.amount",value:l.formState.amount,label:"Tutar",onChange:S,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{disabled:3!==l.formState.transactionType,type:"number",name:"formState.buyingRate",value:l.formState.buyingRate,label:"D\xf6viz/Alt\u0131n Al\u0131\u015f",onChange:S,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{disabled:3!==l.formState.transactionType,type:"number",name:"formState.sellingRate",value:l.formState.sellingRate,label:"D\xf6viz/Alt\u0131n Sat\u0131\u015f Parite",onChange:S,InputLabelProps:{shrink:!0}}),r.a.createElement("div",{style:{flexDirection:"row"}},r.a.createElement(we.a,{id:"fromAccountId-label",shrink:!0},"\xc7\u0131k\u0131\u015f Hesab\u0131"),r.a.createElement(Re.a,{disabled:1===l.formState.transactionType,type:"select",labelId:"fromAccountId-label",name:"formState.fromAccountId",value:l.formState.fromAccountId||0,onChange:S,style:{width:270}},r.a.createElement(Le.a,{key:0,value:0},"Hi\xe7biri"),e.customerAccounts.map((function(e,t){return r.a.createElement(Le.a,{key:t,value:e.id},e.accountNo," - ",e.calculatedLastAccountBalance)}))),r.a.createElement(de.a,{disabled:0===l.formState.fromAccountId,style:{position:"absolute",right:"-70"},onClick:function(){Ie({value:e.customerAccounts.find((function(e){return e.id===l.formState.fromAccountId})).calculatedLastAccountBalance,name:"formState.amount",type:"number"},o)}},"Tamam\u0131")),r.a.createElement(we.a,{id:"toAccountId-label",shrink:!0},"Giri\u015f Hesab\u0131"),r.a.createElement(Re.a,{disabled:2===l.formState.transactionType,type:"select",labelId:"toAccountId-label",name:"formState.toAccountId",value:l.formState.toAccountId||0,onChange:S},r.a.createElement(Le.a,{key:0,value:0},"Hi\xe7biri"),e.customerAccounts.map((function(e,t){return r.a.createElement(Le.a,{key:t,value:e.id},e.accountNo," - ",e.calculatedLastAccountBalance)}))),r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"formState.transactionDate",label:"Date picker dialog",format:"dd/MM/yyyy",minDate:h,value:u,onChange:function(e){m(e),Ie({value:e,name:"formState.transactionDate",type:"datePicker"},o)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("div",{style:{flexDirection:"row"}},r.a.createElement(de.a,{onClick:function(){return k()},color:"primary"},"Kaydet"),r.a.createElement(de.a,{onClick:function(){return alert("cancel")},color:"secondary"},"\u0130ptal")))),r.a.createElement(le.a,{item:!0,md:9,xs:12},r.a.createElement(G.a,{style:{marginLeft:55},title:"Bekleyen \u0130\u015flemler",columns:[{title:"\u0130\u015flem Tipi",field:"tranSactionType"},{title:"M\xfc\u015fteri Ad\u0131",field:"customerName"},{title:"Tutar",field:"amount"},{title:"\xc7\u0131k\u0131\u015f Hesab\u0131",field:"fromAccount"},{title:"i\u015flemden sonraki Bakiyesi",field:"fromAccBalanceAfter"},{title:"Al\u0131\u015f Kuru",field:"buyingRate"},{title:"Sat\u0131\u015f Kuru",field:"sellingRate"},{title:"i\u015flem Tarihi",field:"transactionDate",type:"date"}],data:f,options:{actionsColumnIndex:-1},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya Aktar",exportName:"Excel'e Aktar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}}))))}));function Ke(e){var t=e.children,a=e.value,n=e.index,i=Object(Ee.a)(e,["children","value","index"]);return r.a.createElement(se.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),a===n&&r.a.createElement(Se.a,{p:3},t))}function Fe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var _e=Object(C.b)((function(e){return{userContext:e.loginReducer,isLoading:e.loadingReducer}}),(function(e){return{actions:{}}}))((function(e){var t=r.a.useState(ze),a=Object(L.a)(t,2),i=a[0],l=a[1],o=r.a.useState([{}]),c=Object(L.a)(o,2),s=c[0],u=c[1],m=r.a.useState([{}]),d=Object(L.a)(m,2),p=d[0],f=d[1],b=r.a.useState(0),y=Object(L.a)(b,2),g=y[0],h=y[1];return Object(n.useEffect)((function(){e.location.state&&(""!==e.location.state.customer&&l(e.location.state.customer),f(e.location.state.customerGroups))}),[e.location.state]),Object(n.useEffect)((function(){i.id>0&&R.a.get(lt.baseApiUrl+"customer/GetCustomerAccounts?customerId="+i.id).then((function(e){u(e.data)}))}),[i,e.actions]),r.a.createElement("div",null,r.a.createElement(ke.a,{position:"static",color:"default"},r.a.createElement(Ce.a,{value:g,onChange:function(e,t){h(t)},"aria-label":"simple tabs example",variant:"scrollable",scrollButtons:"auto"},r.a.createElement(Oe.a,Object.assign({label:"Genel"},Fe(0))),r.a.createElement(Oe.a,Object.assign({label:"M\xfc\u015fteri Hesaplar\u0131"},Fe(1))),r.a.createElement(Oe.a,Object.assign({label:"D\xf6viz Giri\u015f/\xc7\u0131k\u0131\u015f/Transfer"},Fe(2),{disabled:0===i.id,hidden:!e.userContext.isAdmin})),r.a.createElement(Oe.a,Object.assign({label:"D\xf6viz Giri\u015f/\xc7\u0131k\u0131\u015f/Transfer Talebi"},Fe(3),{disabled:0===i.id})))),r.a.createElement(Ae.a,null),r.a.createElement(Ke,{value:g,index:0},r.a.createElement(Me,{customer:i,groups:p})),r.a.createElement(Ke,{value:g,index:1},r.a.createElement(Pe,{customerAccounts:s})),r.a.createElement(Ke,{value:g,index:2},r.a.createElement(Ve,{customerAccounts:s,customer:i})),r.a.createElement(Ke,{value:g,index:3},r.a.createElement(Ue,{customerAccounts:s,customer:i})))}));var He=Object(C.b)((function(e){return{userContext:e.loginReducer,isLoading:e.loadingReducer}}),(function(e){return{actions:{}}}))((function(e){var t=Object(n.useState)({id:0,nameSurname:"",username:""}),a=Object(L.a)(t,2),i=a[0],l=a[1];Object(n.useEffect)((function(){e.userContext.id>0&&o()}),[e.userContext.id]);var o=function(){R.a.get(lt.baseApiUrl+"users/GetUser").then((function(e){l(e.data)}))};return r.a.createElement("div",null,r.a.createElement(le.a,{container:!0},r.a.createElement(le.a,{item:!0,md:3,xs:12},r.a.createElement(he.b,{initialValues:{id:i.id,nameSurname:i.nameSurname,userName:i.username,password:"",passwordConfirm:""},validateOnChange:!1,enableReinitialize:!0,validate:function(e){var t={};return e.password!==e.passwordConfirm&&(t.passwordConfirm="Girilen \u015fifreler ayn\u0131 olmal\u0131d\u0131r"),t},onSubmit:function(e,t){R.a.post(lt.baseApiUrl+"users/SaveMyProfile",e).then((function(e){I.a.success("Ba\u015far\u0131l\u0131"),o()}))}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,style:{maxWidth:250}},r.a.createElement(me.a,null,r.a.createElement(Ne.a,{name:"nameSurname",label:"Ad Soyad",value:e.values.nameSurname,onChange:e.handleChange,onBlur:e.handleBlur,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{name:"userName",label:"Kullan\u0131c\u0131 Ad\u0131",value:e.values.userName,onChange:e.handleChange,onBlur:e.handleBlur,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{name:"password",type:"password",label:"Yeni \u015eifre",value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{name:"passwordConfirm",type:"password",label:"Yeni \u015eifre Onayla",value:e.values.passwordConfirm,onChange:e.handleChange,onBlur:e.handleBlur,InputLabelProps:{shrink:!0}}),e.errors.passwordConfirm&&e.touched.passwordConfirm?r.a.createElement("div",{style:{color:"red"}},e.errors.passwordConfirm):null,r.a.createElement(de.a,{color:"primary",type:"submit"},"Kaydet")))})))))})),qe=a(119),We=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={customer:ze,groups:[]},a.handleCustomerChange=a.handleCustomerChange.bind(Object(qe.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.customer}},{key:"handleCustomerChange",value:function(e){e.preventDefault();var t,a=Object(je.a)({},this.state).customer,n=e.target,r=n.name,i=n.value;t="checkbox"===e.target.type?e.target.checked:"number"===e.target.type?e.target.valueAsNumber:i,a[r]=t,this.setState({customer:a})}},{key:"save",value:function(){this.state.customer;var e=this.state.customer;I.a.confirm("Confirm Message",(function(){R.a.post(lt.baseApiUrl+"customer/SaveCustomer",e).then((function(e){I.a.success("Ok")}))}),(function(){I.a.error("Cancel")}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(le.a,{container:!0},r.a.createElement(me.a,null,r.a.createElement(Ne.a,{required:!0,name:"customerName",value:this.state.customer.customerName,label:"M\xfc\u015fteri Ad\u0131 Soyad\u0131",onChange:this.handleCustomerChange,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{type:"number",name:"phoneNumber",value:this.state.customer.phoneNumber,label:"Telefon Numaras\u0131",onChange:this.handleCustomerChange,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{name:"email",value:this.state.customer.email,label:"E-Posta",onChange:this.handleCustomerChange,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{type:"number",name:"poolRate",value:this.state.customer.poolRate,label:"Havuz Oran\u0131",onChange:this.handleCustomerChange,InputLabelProps:{shrink:!0}}),r.a.createElement(we.a,{id:"customerGroupId-label",shrink:!0},"M\xfc\u015fteri Grubu"),r.a.createElement(Re.a,{type:"select",labelId:"customerGroupId-label",name:"customer.customerGroupId",value:this.state.customer.customerGroupId,onChange:this.handleCustomerChange},r.a.createElement(Le.a,{value:0,key:0},"Hi\xe7biri"),this.state.groups.map((function(e,t){return r.a.createElement(Le.a,{key:e.id,value:e.id},e.groupName)}))),r.a.createElement(Be.a,{control:r.a.createElement(Ge.a,{name:"isActive",checked:this.state.customer.isActive,onChange:this.handleCustomerChange,value:this.state.customer.isActive,color:"primary"}),label:"Primary"}),r.a.createElement(de.a,{onClick:function(){return e.save()},color:"primary"},"Kaydet"))))}}]),t}(n.Component),Je=a(835);var Ye=Object(C.b)((function(e){return{currencies:e.currencyReducer}}),(function(e){return{actions:{}}}))((function(e){var t=Object(D.g)(),a=Object(n.useState)(new Date),i=Object(L.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)([]),s=Object(L.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)([]),p=Object(L.a)(d,2),f=p[0],b=p[1],y=r.a.useReducer(Te,{formState:{buyingRate:0,sellingRate:0,selectedCurrencies:[],selectedCustomer:[],transactionDate:new Date}}),g=Object(L.a)(y,2),h=g[0],v=g[1],E=Object(n.useState)(new Date),S=Object(L.a)(E,2),k=S[0],C=S[1];Object(n.useEffect)((function(){O()}),[]);var O=function(){R.a.get(lt.baseApiUrl+"transaction/GetMaxTransactionDate").then((function(e){C(new Date(e.data))}))},A=r.a.useCallback((function(e){var t=e.target;Ie({value:t.value,name:t.name,type:t.type},v)}),[]);Object(n.useEffect)((function(){R.a.get(lt.baseApiUrl+"customer/GetAllCustomers").then((function(e){m(e.data),Ie({value:e.data,name:"formState.selectedCustomer",type:"datePicker"},v)}))}),[]),Object(n.useEffect)((function(){Ie({value:e.currencies,name:"formState.selectedCurrencies",type:"datePicker"},v)}),[e.currencies]);var j=function(){(function(){var e=!0;return(h.formState.buyingRate<1||h.formState.sellingRate<1)&&(e=!1),k>h.formState.transactionDate&&(e=!1,I.a.warning("Se\xe7ilen tarih son i\u015flem tarihinden k\xfc\xe7\xfck olamaz")),e||I.a.error("Alanlar\u0131 kontrol ediniz"),e})()&&R.a.post(lt.baseApiUrl+"transaction/AddBulkTransaction",h.formState).then((function(e){I.a.success("\u0130\u015flem Ba\u015far\u0131l\u0131"),b(e.data),O()}))};return r.a.createElement(le.a,{container:!0,spacing:3},r.a.createElement(le.a,{item:!0,md:3,xs:12},r.a.createElement(me.a,null,r.a.createElement(Ne.a,{type:"number",name:"formState.buyingRate",value:h.formState.buyingRate,label:"Al\u0131\u015f Kuru",onChange:A,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{type:"number",name:"formState.sellingRate",value:h.formState.sellingRate,label:"Sat\u0131\u015f Kuru",onChange:A,InputLabelProps:{shrink:!0}}),r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"formState.transactionDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:l,onChange:function(e){o(e),Ie({value:e,name:"formState.transactionDate",type:"datePicker"},v)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",minDate:k,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(Je.a,{multiple:!0,id:"formState.selectedCurrencies",disableCloseOnSelect:!0,options:e.currencies,limitTags:2,renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{style:{marginRight:8},checked:a}),e.currencyCode)},getOptionLabel:function(e){return e.currencyCode},defaultValue:h.formState.selectedCurrencies,onChange:function(e,t,a){return A({target:{value:t,name:"formState.selectedCurrencies",type:"Autocomplete"}})},value:h.formState.selectedCurrencies,renderInput:function(e){return r.a.createElement(Ne.a,Object.assign({},e,{variant:"standard",label:"D\xf6viz Cinsi",placeholder:"D\xf6viz Cinsi"}))}}),r.a.createElement(Je.a,{multiple:!0,disableCloseOnSelect:!0,id:"formState.selectedCustomers",options:u,limitTags:2,renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{style:{marginRight:8},checked:a}),e.customerName)},getOptionLabel:function(e){return e.customerName},defaultValue:h.selectedCustomer,onChange:function(e,t,a){return A({target:{value:t,name:"formState.selectedCustomer",type:"Autocomplete"}})},value:h.formState.selectedCustomer,renderInput:function(e){return r.a.createElement(Ne.a,Object.assign({},e,{variant:"standard",label:"M\xfc\u015fteri",placeholder:"Se\xe7ili M\xfc\u015fteri"}))}}),r.a.createElement(le.a,{container:!0},r.a.createElement(le.a,{item:!0,xs:6},r.a.createElement(de.a,{color:"primary",onClick:function(){return j()}},"Kaydet")),r.a.createElement(le.a,{item:!0,xs:6},r.a.createElement(de.a,{color:"secondary",onClick:function(){t.push("/home")}},"\u0130ptal"))))),r.a.createElement(le.a,{item:!0,md:9,xs:12},r.a.createElement(G.a,{title:"M\xfc\u015fteri Listesi",columns:[{title:"Tarih",field:"transactionDate",type:"date"},{title:"Al\u0131\u015f Oran\u0131",field:"buyingRate"},{title:"Sat\u0131\u015f Oran\u0131",field:"sellingRate"}],data:f,options:{actionsColumnIndex:-1,exportButton:!0},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya \xe7\u0131kar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}})))}));var Xe=Object(C.b)((function(e){return{currencies:e.currencyReducer}}),(function(e){return{actions:{}}}))((function(e){var t=Object(n.useState)([]),a=Object(L.a)(t,2),i=a[0],l=a[1],o=Object(D.g)();Object(n.useEffect)((function(){R.a.get(lt.baseApiUrl+"customer/GetAllCustomers").then((function(e){l(e.data),c("selectedCustomer",e.data)}))}),[]);var c=function(e,t){var a=Object(je.a)({},m);a[e]=t,d(a)},s=Object(n.useState)({selectedDate:new Date,selectedCustomer:[]}),u=Object(L.a)(s,2),m=u[0],d=u[1];return r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,md:3,sm:6,xs:12},r.a.createElement(he.b,{initialValues:{selectedDate:m.selectedDate,selectedCustomer:m.selectedCustomer},enableReinitialize:!0,onSubmit:function(e,t){R.a.post(lt.baseApiUrl+"customer/MakeMonthEndProcess",e).then((function(e){I.a.success("Ba\u015far\u0131l\u0131 bir \u015fekilde eklenmi\u015ftir."),o.push("/home")}))}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(me.a,null,r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"selectedDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:e.initialValues.selectedDate,onChange:function(e){c("selectedDate",e)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(Je.a,{multiple:!0,id:"formState.selectedCustomers",options:i,limitTags:2,renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{style:{marginRight:8},checked:a}),e.customerName)},getOptionLabel:function(e){return e.customerName},defaultValue:e.initialValues.selectedCustomer,onChange:function(e,t,a){c("selectedCustomer",t)},value:e.initialValues.selectedCustomer,renderInput:function(e){return r.a.createElement(Ne.a,Object.assign({},e,{variant:"standard",label:"M\xfc\u015fteri",placeholder:"Se\xe7ili M\xfc\u015fteri"}))}}),r.a.createElement(de.a,{color:"primary",type:"submit"},"Hesap Kesimi Yap")))}))))}));var $e=Object(C.b)((function(e){return{currencies:e.currencyReducer}}),(function(e){return{actions:{}}}))((function(e){var t=Object(n.useState)([]),a=Object(L.a)(t,2),i=a[0],l=a[1],o=Object(D.g)();Object(n.useEffect)((function(){R.a.get(lt.baseApiUrl+"customer/GetAllCustomers").then((function(e){l(e.data),c("selectedCustomer",e.data)}))}),[]);var c=function(e,t){var a=Object(je.a)({},m);a[e]=t,d(a)},s=Object(n.useState)({totalAmount:0,dayCount:0,totalProfit:0,selectedDate:new Date,selectedCurrencies:e.currencies,selectedCustomer:[]}),u=Object(L.a)(s,2),m=u[0],d=u[1];return r.a.createElement("div",null,r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,md:3,sm:6,xs:12},r.a.createElement(he.b,{initialValues:{totalAmount:0,dayCount:0,totalProfit:0,selectedDate:m.selectedDate,selectedCurrencies:m.selectedCurrencies,selectedCustomers:m.selectedCustomer},validateOnChange:!1,enableReinitialize:!0,validate:function(e){var t={};return!e.dayCount||e.dayCount<1?(t.dayCount="Required",I.a.error("Alanlar\u0131 Kontrol Ediniz!")):!e.totalAmount||e.totalAmount<1?(t.dayCount="Required",I.a.error("Alanlar\u0131 Kontrol Ediniz!")):(!e.totalProfit||e.totalProfit<1)&&(t.dayCount="Required",I.a.error("Alanlar\u0131 Kontrol Ediniz!")),t},onSubmit:function(e,t){R.a.post(lt.baseApiUrl+"transaction/AddShopProfit",e).then((function(e){I.a.success("\u0130\u015flem Ba\u015far\u0131l\u0131!"),o.push("/home")}))}},(function(t){return r.a.createElement("form",{onSubmit:t.handleSubmit},r.a.createElement(me.a,null,r.a.createElement(Ne.a,{type:"number",defaultValue:t.initialValues.totalAmount,name:"totalAmount",label:"Toplam Tutar",onChange:t.handleChange,onBlur:t.handleBlur,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{type:"number",defaultValue:t.initialValues.dayCount,name:"dayCount",label:"G\xfcn Say\u0131s\u0131",onChange:t.handleChange,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{type:"number",defaultValue:t.initialValues.totalProfit,name:"totalProfit",label:"Kar Tutar\u0131",onChange:t.handleChange,InputLabelProps:{shrink:!0}}),r.a.createElement(he.a,{name:"selectedDate",id:"selectedDate"},(function(e){var t=e.field.value,a=e.form.setFieldValue;return r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"selectedDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:t,onChange:function(e){a("selectedDate",e)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",KeyboardButtonProps:{"aria-label":"change date"}}))})),r.a.createElement(he.a,{name:"selectedCurrencies",id:"selectedCurrencies"},(function(t){var a=t.field.value,n=t.form.setFieldValue;return r.a.createElement(Je.a,{multiple:!0,id:"selectedCurrencies",options:e.currencies,limitTags:2,renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{style:{marginRight:8},checked:a}),e.currencyCode)},getOptionLabel:function(e){return e.currencyCode},defaultValue:a,onChange:function(e,t,a){n("selectedCurrencies",t)},value:a,renderInput:function(e){return r.a.createElement(Ne.a,Object.assign({},e,{variant:"standard",label:"D\xf6viz Cinsi",placeholder:"D\xf6viz Cinsi"}))}})})),r.a.createElement(he.a,{name:"selectedCustomers",id:"selectedCustomers"},(function(e){var t=e.field.value,a=e.form.setFieldValue;return r.a.createElement(Je.a,{multiple:!0,id:"selectedCustomers",options:i,limitTags:2,renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{style:{marginRight:8},checked:a}),e.customerName)},getOptionLabel:function(e){return e.customerName},defaultValue:t,onChange:function(e,t,n){a("selectedCustomers",t)},value:t,renderInput:function(e){return r.a.createElement(Ne.a,Object.assign({},e,{variant:"standard",label:"M\xfc\u015fteri",placeholder:"Se\xe7ili M\xfc\u015fteri"}))}})})),r.a.createElement(de.a,{color:"primary",type:"submit"},"Kaydet")))})))))}));var Qe=Object(C.b)((function(e){return{isLoading:e.loadingReducer,totalRequest:e.totalRequestReducer}}),(function(e){return{actions:{}}}))((function(e){var t=Object(n.useState)([]),a=Object(L.a)(t,2),i=a[0],l=a[1];return Object(n.useEffect)((function(){R.a.get(lt.baseApiUrl+"transaction/GetTransactionRequests").then((function(e){l(e.data)}))}),[]),r.a.createElement("div",null,r.a.createElement(G.a,{title:"Talep Edilen \u0130\u015flem Listesi",columns:[{title:"\u0130\u015flem Tipi",field:"tranSactionType"},{title:"M\xfc\u015fteri Ad\u0131",field:"customerName"},{title:"Tutar",field:"amount"},{title:"Giri\u015f Hesab\u0131",field:"toAccount"},{title:"\xc7\u0131k\u0131\u015f Hesab\u0131",field:"fromAccount"},{title:"Al\u0131\u015f Kuru",field:"buyingRate"},{title:"Sat\u0131\u015f Kuru",field:"sellingRate"},{title:"Stat\xfc",field:"status"},{title:"A\xe7an Kullan\u0131c\u0131",field:"createdUser"},{title:"i\u015flem Tarihi",field:"transactionDate",type:"date"}],data:i,actions:[{icon:"check",tooltip:"Onayla",onClick:function(e,t){I.a.confirm("Onay","T\xfcm Bilgiler Silinecektir onayl\u0131yor musunuz?",(function(){R.a.post(lt.baseApiUrl+"transaction/ApproveTransactionRequest",t).then((function(e){l(e.data),I.a.success("\u0130\u015flem Onayland\u0131!")}))}),(function(){I.a.warning("\u0130ptal Edildi")}))}},{icon:"clear",tooltip:"Reddet",onClick:function(e,t){I.a.confirm("Onay","T\xfcm Bilgiler Silinecektir onayl\u0131yor musunuz?",(function(){R.a.post(lt.baseApiUrl+"transaction/RejectTransactionRequest",t).then((function(e){l(e.data),I.a.error("\u0130\u015flem Reddedildi!")}))}),(function(){I.a.warning("\u0130ptal Edildi")}))}}],options:{actionsColumnIndex:-1,exportButton:!0,pageSize:10},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya \xe7\u0131kar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}}))}));function Ze(e){var t=Object(D.g)(),a=r.a.useState({file:{},data:[]}),i=Object(L.a)(a,2),l=i[0],o=i[1],c=r.a.useState([]),s=Object(L.a)(c,2),u=s[0],m=s[1],d=Object(n.useRef)(null),p=function(){var e=new FileReader,t=!!e.readAsBinaryString;e.onload=function(e){var a,n=null===(a=e.target)||void 0===a?void 0:a.result,r=P.a.read(n,{type:t?"binary":"array",bookVBA:!0}),i=r.SheetNames[0],c=r.Sheets[i],s=P.a.utils.sheet_to_json(c),u=l;u.data=s,o(u),m(s)},t?e.readAsBinaryString(l.file):e.readAsArrayBuffer(l.file)};return r.a.createElement("div",null,r.a.createElement("input",{type:"file",ref:d,className:"form-control",id:"file",accept:["xlsx","xlsb","xlsm","xls","xml","csv","txt","ods","fods","uos","sylk","dif","dbf","prn","qpw","123","wb*","wq*","html","htm"].map((function(e){return"."+e})).join(","),onChange:function(e){var t=e.target.files,a=l;a.file=t[0],t&&t[0]&&o(a),p()},style:{display:"none"}}),r.a.createElement(G.a,{title:"M\xfc\u015fteri Listesi",columns:[{title:"Ad Soyad\u0131",field:"customerName"},{title:"Telefon",field:"phoneNumber",type:"numeric"},{title:"Email",field:"email"},{title:"Havuz Oran\u0131",field:"poolRate",type:"numeric"},{title:"M\xfc\u015fteri Grubu",field:"customerGroupId",lookup:e.groups},{title:"Tarih",field:"transactionDate",type:"date"},{title:"TL",field:"tl",type:"numeric"},{title:"USD",field:"usd",type:"numeric"},{title:"EUR",field:"eur",type:"numeric"},{title:"GAU",field:"gau",type:"numeric"},{title:"GBP",field:"gbp",type:"numeric"}],data:u,actions:[{icon:"add",tooltip:"Dosya Ekle",isFreeAction:!0,onClick:function(e){return function(e){var t;null===(t=d.current)||void 0===t||t.click()}()}},{icon:"save",tooltip:"Kaydet",isFreeAction:!0,onClick:function(e){return I.a.confirm("Onay","M\xfc\u015fteriler y\xfcklenecek onayl\u0131yor musunuz ?",(function(){R.a.post(lt.baseApiUrl+"settings/SaveBulkCustomer",l.data).then((function(e){"Ok"===e.data&&(I.a.success("Ba\u015far\u0131l\u0131"),t.push("/customerlist"))}))}),(function(){I.a.error("\u0130ptal Edildi")}))}}],options:{actionsColumnIndex:-1,exportButton:!1,exportCsv:function(e,t){K("M\xfc\u015fteri Listesi",e,t)},pageSize:50,pageSizeOptions:[50,100,200]},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya Aktar",exportName:"Excel'e Aktar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}}))}function et(e){return r.a.createElement("div",null,r.a.createElement(le.a,{container:!0},r.a.createElement(me.a,null,r.a.createElement(de.a,{color:"primary",onClick:function(){I.a.confirm("Onay","T\xfcm Bilgiler Silinecektir onayl\u0131yor musunuz?",(function(){R.a.post(lt.baseApiUrl+"settings/DeleteAllData").then((function(e){I.a.success("\u0130\u015flem Ba\u015far\u0131l\u0131")}))}),(function(){I.a.error("\u0130ptal Edildi")}))}},"T\xfcm Bilgileri S\u0131f\u0131rla"," "))))}function tt(e){var t=r.a.useState({file:{},data:[]}),a=Object(L.a)(t,2),i=a[0],l=a[1],o=r.a.useState([]),c=Object(L.a)(o,2),s=c[0],u=c[1],m=Object(n.useRef)(null),d=function(){var e=new FileReader,t=!!e.readAsBinaryString;e.onload=function(e){var a,n=null===(a=e.target)||void 0===a?void 0:a.result,r=P.a.read(n,{type:t?"binary":"array",bookVBA:!0}),o=r.SheetNames[0],c=r.Sheets[o],s=P.a.utils.sheet_to_json(c),m=i;m.data=s,l(m),u(s)},t?e.readAsBinaryString(i.file):e.readAsArrayBuffer(i.file)};return r.a.createElement("div",null,r.a.createElement("input",{type:"file",ref:m,className:"form-control",id:"file",accept:["xlsx","xlsb","xlsm","xls","xml","csv","txt","ods","fods","uos","sylk","dif","dbf","prn","qpw","123","wb*","wq*","html","htm"].map((function(e){return"."+e})).join(","),onChange:function(e){var t=e.target.files,a=i;a.file=t[0],t&&t[0]&&l(a),d()},style:{display:"none"}}),r.a.createElement(G.a,{title:"\u0130\u015flem Listesi",columns:[{title:"customer",field:"customer"},{title:"transactionDate",field:"transactionDate"},{title:"transactionType",field:"transactionType"},{title:"currency",field:"currency"},{title:"amount",field:"Amount",type:"numeric"},{title:"buyingRate",field:"buyingRate"},{title:"sellingRate",field:"sellingRate"},{title:"fromCurrency",field:"fromCurrency"},{title:"toCurrency",field:"toCurrency"}],data:s,actions:[{icon:"add",tooltip:"Dosya Ekle",isFreeAction:!0,onClick:function(e){return function(e){var t;null===(t=m.current)||void 0===t||t.click()}()}},{icon:"save",tooltip:"Kaydet",isFreeAction:!0,onClick:function(e){return I.a.confirm("Onay","\u0130\u015flemler y\xfcklenecek onayl\u0131yor musunuz ?",(function(){R.a.post(lt.baseApiUrl+"settings/ImportBulkTransaction",i.data).then((function(e){"Ok"===e.data&&I.a.success("Ba\u015far\u0131l\u0131")}))}),(function(){I.a.error("\u0130ptal Edildi")}))}}],options:{actionsColumnIndex:-1,exportButton:!1,exportCsv:function(e,t){K("M\xfc\u015fteri Listesi",e,t)},pageSize:50,pageSizeOptions:[50,100,200]},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya Aktar",exportName:"Excel'e Aktar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}}))}var at=Object(C.b)((function(e){return{currencies:e.currencyReducer}}),(function(e){return{actions:{}}}))((function(e){var t=Object(n.useState)({selectedDate:new Date,selectedCustomer:[]}),a=Object(L.a)(t,2),i=a[0],l=a[1];return r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,md:3,sm:6,xs:12},r.a.createElement(he.b,{initialValues:{startDate:i.selectedDate},enableReinitialize:!0,onSubmit:function(e,t){I.a.confirm("Onay","Se\xe7ilen tarihe geri d\xf6n\xfclecek onayl\u0131yor musunuz ?",(function(){R.a.post(lt.baseApiUrl+"settings/RewindTransactions",e).then((function(e){I.a.success("Ba\u015far\u0131l\u0131 bir \u015fekilde tarihe geri d\xf6n\xfclm\xfc\u015ft\xfcr.")}))}),(function(){I.a.error("\u0130ptal Edildi")}))}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(me.a,null,r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"selectedDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:e.initialValues.startDate,onChange:function(e){!function(e,t){var a=Object(je.a)({},i);a[e]=t,l(a)}("selectedDate",e)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(de.a,{color:"primary",type:"submit"},"Tarihe Geri D\xf6n")))}))))}));function nt(e){var t=e.children,a=e.value,n=e.index,i=Object(Ee.a)(e,["children","value","index"]);return r.a.createElement(se.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),a===n&&r.a.createElement(Se.a,{p:3},t))}function rt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var it,lt={projectName:"\u0130stanbul Sarrafiye v2.0",baseApiUrl:"https://api.istanbulsarrafiye.com/",screenList:[{link:"home",component:ve,displayName:"Anasayfa",icon:J.a,isVisible:!0,onlyAdmin:!1},{link:"customerlist",component:W,displayName:"M\xfc\u015fteri Listesi",icon:Y.a,isVisible:!0,onlyAdmin:!1},{link:"groupList",component:function(){var e=Object(n.useState)([]),t=Object(L.a)(e,2),a=t[0],i=t[1],l={id:0,groupName:"",isActive:!0},o=Object(n.useState)(l),c=Object(L.a)(o,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){R.a.get(lt.baseApiUrl+"customer/GetCustomerAllGroups").then((function(e){i(e.data)}))}),[]),r.a.createElement(le.a,{container:!0},r.a.createElement(le.a,{item:!0,md:3,xs:12},r.a.createElement(he.b,{initialValues:{id:s.id,groupName:s.groupName,isActive:s.isActive},validateOnChange:!1,enableReinitialize:!0,validate:function(e){var t={};return""===e.groupName&&(t.groupName="Required",I.a.error("Alanlar\u0131 Kontrol Ediniz!")),t},onSubmit:function(e,t){R.a.post(lt.baseApiUrl+"customer/SaveCustomerGroup",e).then((function(e){i(e.data),u(l),I.a.success("\u0130\u015flem Ba\u015far\u0131l\u0131!")}))}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,style:{maxWidth:250}},r.a.createElement(me.a,null,r.a.createElement(Ne.a,{name:"groupName",label:"Grup Ad\u0131",value:e.values.groupName,onChange:e.handleChange,onBlur:e.handleBlur,InputLabelProps:{shrink:!0}}),r.a.createElement(Be.a,{control:r.a.createElement(Ge.a,{name:"isActive",value:e.values.isActive,checked:e.values.isActive,onChange:e.handleChange}),label:"Aktif mi ?"}),r.a.createElement(de.a,{color:"primary",type:"submit"},"Kaydet")))}))),r.a.createElement(le.a,{item:!0,md:9,xs:12},r.a.createElement(G.a,{title:"Grup Listesi",columns:[{title:"Id",field:"id"},{title:"Grup Ad\u0131",field:"groupName"},{title:"Aktif mi?",field:"isActive"}],data:a,actions:[{icon:"edit",tooltip:"Grup G\xfcncelle",onClick:function(e,t){u(t)}},{icon:"add",tooltip:"Grup Ekle",isFreeAction:!0,onClick:function(e){return u(l)}}],options:{actionsColumnIndex:-1,exportButton:!0,exportCsv:function(e,t){K("Grup Listesi",e,t)},pageSize:50,pageSizeOptions:[50,100,200]},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya Aktar",exportName:"Excel'e Aktar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}})))},displayName:"Grup Tan\u0131mlar\u0131",icon:X.a,isVisible:!0,onlyAdmin:!0},{link:"transactionrequestlist",component:Qe,displayName:"Onaya Gelen \u0130\u015flemler",icon:$.a,isVisible:!0,onlyAdmin:!0},{link:"customer",component:_e,displayName:"M\xfc\u015fteri",icon:Y.a,isVisible:!1,onlyAdmin:!1},{link:"customeraddnew",component:We,displayName:"M\xfc\u015fteri Ekle Yeni",icon:Y.a,isVisible:!1,onlyAdmin:!1},{link:"dailyprofitadd",component:Ye,displayName:"G\xfcnl\xfck Kar Giri\u015fi",icon:Q.a,isVisible:!0,onlyAdmin:!0},{link:"billingprocess",component:Xe,displayName:"Hesap Kesim \u0130\u015flemi",icon:Z.a,isVisible:!0,onlyAdmin:!0},{link:"shopprofitentry",component:$e,displayName:"D\xfckkan Kar Giri\u015fi",icon:ee.a,isVisible:!0,onlyAdmin:!0},{link:"customertransactionreport",component:function(){var e=Object(n.useState)([ze]),t=Object(L.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)([]),o=Object(L.a)(l,2),c=o[0],s=o[1];return Object(n.useEffect)((function(){R.a.get(lt.baseApiUrl+"customer/GetAllCustomers").then((function(e){i(e.data)}))}),[]),r.a.createElement("div",null,r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,md:12},r.a.createElement(oe.a,{square:!0,defaultExpanded:!0},r.a.createElement(ce.a,{expandIcon:r.a.createElement(fe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(se.a,null,"Filtreler")),r.a.createElement(ue.a,{style:{display:"flex",flexDirection:"row"}},r.a.createElement(he.b,{initialValues:{startDate:new Date,endDate:new Date,customer:a[0]},validateOnChange:!1,validate:function(e){var t={};return e.customer.id<1&&(t.customer="M\xfc\u015fteri se\xe7imi yap\u0131lmal\u0131d\u0131r."),t},onSubmit:function(e,t){t.setValues(e),R.a.post(lt.baseApiUrl+"report/GetCustomerTransactionHistory",e).then((function(e){s(e.data),I.a.success("Liste G\xfcncellendi!")}))}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(me.a,null,r.a.createElement(he.a,{name:"startDate",id:"startDate"},(function(e){var t=e.field.value,a=e.form.setFieldValue;return r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"startDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:t,onChange:function(e){a("startDate",e)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",KeyboardButtonProps:{"aria-label":"change date"}}))})),r.a.createElement(he.a,{name:"endDate",id:"endDate"},(function(e){var t=e.field.value,a=e.form.setFieldValue;return r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"endDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:t,onChange:function(e){a("endDate",e)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",KeyboardButtonProps:{"aria-label":"change date"}}))})),r.a.createElement(he.a,{name:"customer",id:"customer"},(function(e){var t=e.field.value,n=e.form.setFieldValue;return r.a.createElement(Je.a,{id:"customer",options:a,getOptionLabel:function(e){return e.customerName},onChange:function(e,t,a){n("customer",t)},value:t,renderInput:function(e){return r.a.createElement(Ne.a,Object.assign({},e,{variant:"standard",label:"M\xfc\u015fteri",placeholder:"Se\xe7ili M\xfc\u015fteri"}))}})})),e.errors.customer&&e.touched.customer?r.a.createElement("div",{style:{color:"red"}},e.errors.customer):null,r.a.createElement(de.a,{color:"primary",type:"submit"},"G\xf6ster")))}))))),r.a.createElement(le.a,{item:!0,md:12},r.a.createElement(G.a,{title:"Genel \u0130\u015flem Listesi",columns:[{title:"Id",field:"transactionId"},{title:"\u0130\u015flem Tipi",field:"transactionType"},{title:"Tutar",field:"transactionAmount"},{title:"Tarih",field:"transactionDate",type:"date"},{title:"Al\u0131\u015f",field:"buyingRate"},{title:"Sat\u0131\u015f",field:"sellingRate"},{title:"Hesap",field:"accountNo",defaultGroupOrder:0},{title:"D\xf6viz",field:"currencyCode"},{title:"Hesap Bakiye",field:"accountBalance"},{title:"\u0130\u015flemden \xd6nceki Bakiye",field:"balanceBeforeTransaction"},{title:"\u0130lk Bakiye",field:"firstBalance"},{title:"Son Bakiye",field:"lastBalance"}],data:c,options:{grouping:!0,actionsColumnIndex:-1,exportButton:!0,exportCsv:function(e,t){K("M\xfc\u015fteri Listesi",e,t)},pageSize:50,pageSizeOptions:[50,100,200]},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya Aktar",exportName:"Excel'e Aktar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}}))))},displayName:"M\xfc\u015fteri \u0130\u015flem Raporu",icon:te.a,isVisible:!0,onlyAdmin:!1},{link:"smsrequestlist",component:function(){var e=Object(n.useState)([]),t=Object(L.a)(e,2),a=t[0],i=t[1];return r.a.createElement("div",null,r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,md:12},r.a.createElement(oe.a,{square:!0,defaultExpanded:!0},r.a.createElement(ce.a,{expandIcon:r.a.createElement(fe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(se.a,null,"Filtreler")),r.a.createElement(ue.a,{style:{display:"flex",flexDirection:"row"}},r.a.createElement(he.b,{initialValues:{startDate:new Date,endDate:new Date},validateOnChange:!1,validate:function(e){return{}},onSubmit:function(e,t){t.setValues(e),R.a.post(lt.baseApiUrl+"report/GetSmsRequests",e).then((function(e){i(e.data),I.a.success("Liste G\xfcncellendi!")}))}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(me.a,null,r.a.createElement(he.a,{name:"startDate",id:"startDate"},(function(e){var t=e.field.value,a=e.form.setFieldValue;return r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"startDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:t,onChange:function(e){a("startDate",e)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",KeyboardButtonProps:{"aria-label":"change date"}}))})),r.a.createElement(de.a,{color:"primary",type:"submit"},"G\xf6ster")))}))))),r.a.createElement(le.a,{item:!0,md:12},r.a.createElement(G.a,{title:"Sms Listesi",columns:[{title:"Id",field:"id"},{title:"M\xfc\u015fteri Ad\u0131",field:"customerName"},{title:"\u0130\u015flem Tipi",field:"phoneNumber"},{title:"Tutar",field:"smsText"},{title:"Tarih",field:"creationDate",type:"date"}],data:a,options:{actionsColumnIndex:-1,exportButton:!0,exportCsv:function(e,t){K("Sms Listesi",e,t)},pageSize:50,pageSizeOptions:[50,100,200]},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya Aktar",exportName:"Excel'e Aktar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}}))))},displayName:"Sms Listesi",icon:ae.a,isVisible:!0,onlyAdmin:!0},{link:"generaltransactionreport",component:function(){var e=Object(n.useState)([]),t=Object(L.a)(e,2),a=t[0],i=t[1];return r.a.createElement("div",null,r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,md:12},r.a.createElement(oe.a,{square:!0,defaultExpanded:!0},r.a.createElement(ce.a,{expandIcon:r.a.createElement(fe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(se.a,null,"Filtreler")),r.a.createElement(ue.a,{style:{display:"flex",flexDirection:"row"}},r.a.createElement(he.b,{initialValues:{startDate:new Date,endDate:new Date,customer:ze},validateOnChange:!1,validate:function(e){return{}},onSubmit:function(e,t){t.setValues(e),R.a.post(lt.baseApiUrl+"report/GetGeneralTransactionHistory",e).then((function(e){i(e.data),I.a.success("Liste G\xfcncellendi!")}))}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(me.a,null,r.a.createElement(he.a,{name:"startDate",id:"startDate"},(function(e){var t=e.field.value,a=e.form.setFieldValue;return r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"startDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:t,onChange:function(e){a("startDate",e)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",KeyboardButtonProps:{"aria-label":"change date"}}))})),r.a.createElement(he.a,{name:"endDate",id:"endDate"},(function(e){var t=e.field.value,a=e.form.setFieldValue;return r.a.createElement(be.a,{utils:ge.default},r.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",name:"endDate",label:"\u0130\u015flem Tarihi",format:"dd/MM/yyyy",value:t,onChange:function(e){a("endDate",e)},okLabel:"Se\xe7",cancelLabel:"\u0130ptal",KeyboardButtonProps:{"aria-label":"change date"}}))})),r.a.createElement(de.a,{color:"primary",type:"submit"},"G\xf6ster")))}))))),r.a.createElement(le.a,{item:!0,md:12},r.a.createElement(G.a,{title:"Genel \u0130\u015flem Listesi",columns:[{title:"Id",field:"transactionId"},{title:"\u0130\u015flem Tipi",field:"transactionType"},{title:"Tutar",field:"transactionAmount"},{title:"Tarih",field:"transactionDate",type:"date"},{title:"Olu\u015fturma Tarihi",field:"creationDate",type:"datetime",defaultSort:"asc"},{title:"Al\u0131\u015f",field:"buyingRate"},{title:"Sat\u0131\u015f",field:"sellingRate"},{title:"M\xfc\u015fteri",field:"customerName"},{title:"Hesap",field:"accountNo"},{title:"D\xf6viz",field:"currencyCode"},{title:"Hesap Bakiye",field:"accountBalance"},{title:"\u0130\u015flemden \xd6nceki Bakiye",field:"balanceBeforeTransaction"},{title:"\u0130lk Bakiye",field:"firstBalance"},{title:"Son Bakiye",field:"lastBalance"}],data:a,options:{grouping:!0,actionsColumnIndex:-1,exportButton:!0,exportCsv:function(e,t){K("M\xfc\u015fteri Listesi",e,t)},pageSize:50,pageSizeOptions:[50,100,200]},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya Aktar",exportName:"Excel'e Aktar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}}))))},displayName:"Genel \u0130\u015flem Raporu",icon:ne.a,isVisible:!0,onlyAdmin:!1},{link:"settings",component:function(){var e=r.a.useState(0),t=Object(L.a)(e,2),a=t[0],n=t[1],i=r.a.useState({}),l=Object(L.a)(i,2),o=l[0],c=l[1];return r.a.useEffect((function(){0===Object.entries(o).length&&o.constructor===Object&&R.a.get(lt.baseApiUrl+"customer/GetCustomerGroups").then((function(e){var t={};e.data.map((function(e){return t[e.id]=e.groupName})),c(t)}))}),[o]),r.a.createElement("div",null,r.a.createElement(ke.a,{position:"static",color:"default"},r.a.createElement(Ce.a,{value:a,onChange:function(e,t){n(t)},"aria-label":"simple tabs example",variant:"scrollable",scrollButtons:"on"},r.a.createElement(Oe.a,Object.assign({label:"M\xfc\u015fteri Giri\u015fi"},rt(0))),r.a.createElement(Oe.a,Object.assign({label:"Bilgileri S\u0131f\u0131rla"},rt(1))),r.a.createElement(Oe.a,Object.assign({label:"Tarihe Geri D\xf6n"},rt(2))),r.a.createElement(Oe.a,Object.assign({label:"Toplu \u0130\u015flem Giri\u015fi"},rt(3))))),r.a.createElement(Ae.a,null),r.a.createElement(nt,{value:a,index:0},r.a.createElement(Ze,{groups:o})),r.a.createElement(nt,{value:a,index:1},r.a.createElement(et,null)),r.a.createElement(nt,{value:a,index:2},r.a.createElement(at,null)),r.a.createElement(nt,{value:a,index:3},r.a.createElement(tt,null)))},displayName:"Ayarlar",icon:re.a,isVisible:!0,onlyAdmin:!0},{link:"userList",component:function(){var e=Object(n.useState)([]),t=Object(L.a)(e,2),a=t[0],i=t[1],l={id:0,nameSurname:"",username:"",isActive:!0,isAdmin:!1,password:""},o=Object(n.useState)(l),c=Object(L.a)(o,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){R.a.get(lt.baseApiUrl+"users/GetAll").then((function(e){i(e.data)}))}),[]),r.a.createElement(le.a,{container:!0},r.a.createElement(le.a,{item:!0,md:3,xs:12},r.a.createElement(he.b,{initialValues:{id:s.id,nameSurname:s.nameSurname,username:s.username,isActive:s.isActive,isAdmin:s.isAdmin,password:s.password},validateOnChange:!1,enableReinitialize:!0,validate:function(e){return{}},onSubmit:function(e,t){R.a.post(lt.baseApiUrl+"users/SaveUser",e).then((function(e){200===e.data.responseCode?(i(e.data.responseData),u(l),I.a.success("\u0130\u015flem Ba\u015far\u0131l\u0131!")):I.a.error(e.data.responseMessage)}))}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,style:{maxWidth:250}},r.a.createElement(me.a,null,r.a.createElement(Ne.a,{name:"nameSurname",label:"Ad Soyad",value:e.values.nameSurname,onChange:e.handleChange,onBlur:e.handleBlur,InputLabelProps:{shrink:!0}}),r.a.createElement(Ne.a,{name:"username",label:"Kullan\u0131c\u0131 Ad\u0131",value:e.values.username,onChange:e.handleChange,onBlur:e.handleBlur,InputLabelProps:{shrink:!0}}),r.a.createElement(Be.a,{control:r.a.createElement(Ge.a,{name:"isActive",value:e.values.isActive,checked:e.values.isActive,onChange:e.handleChange}),label:"Aktif mi ?"}),r.a.createElement(Be.a,{control:r.a.createElement(Ge.a,{name:"isAdmin",value:e.values.isAdmin,checked:e.values.isAdmin,onChange:e.handleChange}),label:"Admin mi ?"}),r.a.createElement(de.a,{color:"primary",type:"submit"},"Kaydet")))}))),r.a.createElement(le.a,{item:!0,md:9,xs:12},r.a.createElement(G.a,{title:"Grup Listesi",columns:[{title:"Id",field:"id"},{title:"Ad\u0131 Soyad\u0131",field:"nameSurname"},{title:"Aktif mi?",field:"isActive"},{title:"Admin mi?",field:"isAdmin"}],data:a,actions:[{icon:"edit",tooltip:"Kullan\u0131c\u0131 G\xfcncelle",onClick:function(e,t){u(t)}},{icon:"add",tooltip:"Kullan\u0131c\u0131 Ekle",isFreeAction:!0,onClick:function(e){u(l)}}],options:{actionsColumnIndex:-1,exportButton:!0,exportCsv:function(e,t){K("Kullan\u0131c\u0131 Listesi",e,t)},pageSize:10,pageSizeOptions:[10,20,30]},localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:"\u0130\u015flemler"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},toolbar:{exportTitle:"Dosyaya Aktar",exportName:"Excel'e Aktar",searchTooltip:"Ara",searchPlaceholder:"Aranacak kelimeyi giriniz"}}})))},displayName:"Kullan\u0131c\u0131 Listesi",icon:ie.a,isVisible:!0,onlyAdmin:!0},{link:"profile",component:He,dislpayName:"Profil",isVisible:!1,onlyAdmin:!1}],topBarRightButtons:[{link:"profile",displayName:"Profil"}]},ot=Object(N.injectable)()(it=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(e){return R.a.post(lt.baseApiUrl+"users/authenticate",e)}},{key:"isLoggedIn",value:function(){return null!==localStorage.getItem("userContext")}}]),e}())||it,ct={IAuthService:Symbol("IAuthService")},st=new N.Container;st.bind(ct.IAuthService).to(ot);var ut=st,mt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).authService=ut.get(ct.IAuthService),a._isMounted=!1,a.state={username:"",password:"",isRememberme:!1,isLoading:!1,isLoggedIn:!1},a.handleChange=function(e){var t=e.target.name,n="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object(f.a)({},t,n))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"login",value:function(){var e=this;return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({isLoading:!0}),t.next=3,p.a.awrap(this.authService.login(this.state).then((function(t){null!==t.data&&t.data.responseData&&(I.a.success("giri\u015f ba\u015far\u0131l\u0131"),e.props.actions.login(t.data.responseData),localStorage.setItem("userContext",JSON.stringify(t.data.responseData)),e._isMounted&&e.setState({isLoggedIn:!0}))})).finally((function(){e._isMounted&&e.setState({isLoading:!1})})));case 3:case"end":return t.stop()}}),null,this)}},{key:"getLoginButton",value:function(){var e=this;return this.state.isLoading?r.a.createElement(b.a,{variant:"primary",disabled:!0},r.a.createElement(y.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Login"):r.a.createElement(b.a,{variant:"primary",type:"button",onClick:function(){return e.login()}},"Login")}},{key:"render",value:function(){return!0===this.state.isLoggedIn?r.a.createElement(D.a,{to:"/home"}):r.a.createElement("div",{className:"login-main"},r.a.createElement(g.a,{className:"login-main-container"},r.a.createElement(h.a,{className:"justify-content-md-center"},r.a.createElement(v.a,null,r.a.createElement(E.a,{src:k.a,fluid:!0,style:{width:"300px"}}),r.a.createElement(v.a.Group,{controlId:"formBasicEmail"},r.a.createElement(v.a.Label,null,"Kullan\u0131c\u0131 Ad\u0131"),r.a.createElement(v.a.Control,{type:"text",placeholder:"Kullan\u0131c\u0131 ad\u0131 giriniz.",onChange:this.handleChange,name:"username"})),r.a.createElement(v.a.Group,{controlId:"formBasicPassword"},r.a.createElement(v.a.Label,null,"\u015eifre"),r.a.createElement(v.a.Control,{type:"password",placeholder:"\u015eifre giriniz.",onChange:this.handleChange,name:"password"})),r.a.createElement(v.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(v.a.Check,{name:"isRememberme",type:"checkbox",label:"Beni hat\u0131rla!",onChange:this.handleChange})),this.getLoginButton()))))}}]),t}(n.Component);var dt=Object(C.b)((function(e){return{usercontext:e.loginReducer}}),(function(e){return{actions:{login:Object(O.b)(A,e)}}}))(mt),pt=a(524),ft=function(e){return{type:"SET_CURRENCIES",payload:e}},bt=a(2),yt=a(341),gt=a(183),ht=a(526),vt=a.n(ht),Et=function(){return{type:"SIDE_NAV_OPEN",payload:!0}},St=function(){return{type:"SIDE_NAV_CLOSE",payload:!1}},kt=a(87),Ct=a(527),Ot=a.n(Ct),At=a(254),jt=a(58),xt=Object(kt.a)((function(e){return{root:{},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{position:"relative",display:"inline"},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(je.a)({padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},title:{}}}));var Dt=Object(C.b)((function(e){return{sideNavIsOpen:e.sideNavReducer,usercontext:e.loginReducer}}),(function(e){return{actions:{openSideNav:Object(O.b)(Et,e),closeSideNav:Object(O.b)(St,e),login:Object(O.b)(A,e),setLoginContext:Object(O.b)(x,e),logout:Object(O.b)(j,e)}}}))((function(e){var t=r.a.useState(null),a=Object(L.a)(t,2),n=a[0],i=a[1],l=Boolean(n),o=function(){i(null)},c=xt();return r.a.createElement(ke.a,{position:"fixed",className:Object(bt.a)(c.appBar,Object(f.a)({},c.appBarShift,e.sideNavIsOpen))},r.a.createElement(yt.a,null,r.a.createElement(le.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(le.a,{item:!0},r.a.createElement(le.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(le.a,{item:!0},r.a.createElement(gt.a,{color:"inherit","aria-label":"open drawer",onClick:function(){e.actions.openSideNav()},edge:"start",className:Object(bt.a)(c.menuButton,e.sideNavIsOpen&&c.hide)},r.a.createElement(vt.a,null))),r.a.createElement(le.a,{item:!0},r.a.createElement(se.a,{variant:"h6",noWrap:!0},lt.projectName)))),r.a.createElement(le.a,{item:!0},r.a.createElement(le.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(se.a,{variant:"h6",noWrap:!0},"Ho\u015fgeldin ",e.usercontext.nameSurname),r.a.createElement("div",null,r.a.createElement(gt.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},r.a.createElement(Ot.a,null)),r.a.createElement(At.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:o},lt.topBarRightButtons.map((function(e,t){return r.a.createElement(Le.a,{to:"/"+e.link,key:t,component:jt.b,onClick:function(){return o()}},e.displayName)})),r.a.createElement(Le.a,{onClick:function(){e.actions.logout()},color:"inherit"},"\xc7\u0131k\u0131\u015f"))))))))})),Tt=a(816),It=a(96),Nt=a(791),wt=a(786),Rt=a(441),Lt=a(25),Bt=a(528),Gt=a.n(Bt),zt=a(529),Mt=a.n(zt),Pt=Object(kt.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{float:"right",marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0,backgroundColor:"#3f51b5"},drawerPaper:{width:240},drawerHeader:Object(je.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),title:{flexGrow:1}}}));var Vt=Object(C.b)((function(e){return{userContext:e.loginReducer,sideNavIsOpen:e.sideNavReducer}}),(function(e){return{actions:{openSideNav:Object(O.b)(Et,e),closeSideNav:Object(O.b)(St,e)}}}))((function(e){var t=Pt(),a=Object(Lt.a)();return r.a.createElement(It.a,{className:t.drawer,variant:"persistent",anchor:"left",open:e.sideNavIsOpen,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(gt.a,{onClick:function(){return e.actions.closeSideNav()}},"ltr"===a.direction?r.a.createElement(Gt.a,null):r.a.createElement(Mt.a,null))),r.a.createElement(Ae.a,null),r.a.createElement(Nt.a,null,lt.screenList.map((function(t,a){return!0!==t.isVisible||!1!==t.onlyAdmin&&!0!==e.userContext.isAdmin?"":r.a.createElement(wt.a,{component:jt.b,tag:jt.b,to:t.link,button:!0,key:a},function(e){if(e.icon)return r.a.createElement(Tt.a,null,r.a.createElement(e.icon,null))}(t),r.a.createElement(Rt.a,{primary:t.displayName}))}))))}));function Ut(){return r.a.createElement("div",null,"Not Found")}var Kt=ut.get(ct.IAuthService);var Ft=Object(C.b)((function(e){return{usercontext:e.loginReducer}}),(function(e){return{actions:{login:Object(O.b)(A,e),setLoginContext:Object(O.b)(x,e),logout:Object(O.b)(j,e)}}}))((function(e){var t=e.component,a=Object(Ee.a)(e,["component"]),n=Kt.isLoggedIn();return r.a.createElement(D.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(D.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),_t=a(534),Ht=a(423),qt=Object(kt.a)((function(e){return{root:{display:"flex",backgroundColor:"lightgoldenrodyellow",height:"1000px"},content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:0,marginTop:64,backgroundColor:"transparent"},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:240},title:{flexGrow:1}}}));var Wt=Object(C.b)((function(e){return{usercontext:e.loginReducer,sideNavIsOpen:e.sideNavReducer,isLoading:e.loadingReducer,totalRequest:e.totalRequestReducer}}),(function(e){return{actions:{login:Object(O.b)(A,e),logout:Object(O.b)(j,e),setLoginContext:Object(O.b)(x,e),setCurrencies:Object(O.b)(ft,e)}}}))((function(e){var t=qt();return Object(n.useEffect)((function(){var t=localStorage.getItem("userContext");if(null!==t){var a=JSON.parse(t);a.id>0&&e.actions.setLoginContext(a)}}),[e.actions]),Object(n.useEffect)((function(){R.a.get(lt.baseApiUrl+"currency/GetAllCurrencies").then((function(t){return e.actions.setCurrencies(t.data)}))}),[e.actions]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(g.a,{fluid:!0},r.a.createElement(h.a,null,r.a.createElement(pt.a,null,r.a.createElement(Dt,null),r.a.createElement(Vt,null),r.a.createElement("main",{className:Object(bt.a)(t.content,Object(f.a)({},t.contentShift,e.sideNavIsOpen))},r.a.createElement("div",{className:"main-container"},r.a.createElement(D.d,null,r.a.createElement(Ft,{exact:!0,path:"/",component:ve}),lt.screenList.map((function(e,t){return r.a.createElement(Ft,{key:t,path:"/"+e.link,component:e.component})})),r.a.createElement(Ft,{exact:!0,path:"/home",component:ve}),r.a.createElement(Ft,{component:Ut})))))))),r.a.createElement(_t.a,{open:e.isLoading,style:{zIndex:999999}},r.a.createElement(Ht.a,{color:"inherit"})))})),Jt=function(e){return{type:"SET_ISLOADING",payload:e}},Yt=0,Xt=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),R.a.interceptors.request.use((function(t){1===++Yt&&e.actions.setIsLoading(!0);var a=localStorage.getItem("userContext");if(t.headers["Content-Type"]="application/json",null!==a){var n=JSON.parse(a);t.headers.Authorization="Bearer "+n.token}return t}),(function(e){return Promise.reject(e)})),R.a.interceptors.response.use((function(t){return 0===--Yt&&e.actions.setIsLoading(!1),t}),(function(t){return 0===--Yt&&e.actions.setIsLoading(!1),Promise.reject(t)})),a.state={data:{},users:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"isLoggedIn",value:function(){return!1}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"main-container"},r.a.createElement(D.d,null,r.a.createElement(D.b,{path:"/login",component:dt}),r.a.createElement(Ft,{path:"/",component:Wt}),r.a.createElement(Ft,{exact:!0,path:"/",component:Wt}),r.a.createElement(D.b,{component:Ut}))))}}]),t}(n.Component);var $t=Object(C.b)((function(e){return{usercontext:e.loginReducer,sideNavIsOpen:e.sideNavReducer,isLoading:e.loadingReducer,totalRequest:e.totalRequestReducer}}),(function(e){return{actions:{login:Object(O.b)(A,e),logout:Object(O.b)(j,e),setLoginContext:Object(O.b)(x,e),setIsLoading:Object(O.b)(Jt,e)}}}))(Xt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(782);var Qt={isNavOpen:!0,userContext:{}},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt.userContext,t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"LOGIN":return localStorage.setItem("userContext",t.payload),t.payload;case"LOGOUT":return localStorage.removeItem("userContext"),{};case"SET_LOGIN_CONTEXT":return t.payload;default:return a}},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt.isNavOpen,t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"SIDE_NAV_OPEN":case"SIDE_NAV_CLOSE":return t.payload;default:return a}},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"SET_ISLOADING":return t.payload;default:return a}},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"SET_CURRENCIES":return t.payload;default:return a}},na=Object(O.c)({loginReducer:Zt,sideNavReducer:ea,loadingReducer:ta,currencyReducer:aa}),ra=function(){return Object(O.e)(na)},ia=a(506),la=a(170),oa=a(810),ca=(a(783),Object(ia.a)(Object(la.a)({palette:{primary:{main:"#26a69a"},secondary:{main:"#9A0036"}}}))),sa=ra();l.a.render(r.a.createElement(C.a,{store:sa},r.a.createElement(oa.a,{theme:ca},r.a.createElement(jt.a,null,r.a.createElement($t,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[539,1,2]]]);
//# sourceMappingURL=main.2c3eec11.chunk.js.map